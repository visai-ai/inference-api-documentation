---
id: speech-to-text
title: "Speech to Text - AI Marketplace"
description: ""
sidebar_label: "Speech to Text"
hide_title: true
hide_table_of_contents: true
api:
  {
    "tags": ["ai-marketplace"],
    "description": "",
    "operationId": "sttInfer",
    "parameters":
      [
        {
          "name": "X-API-Key",
          "in": "header",
          "description": "Your API key",
          "required": true,
          "schema": { "type": "string" },
        },
      ],
    "responses":
      {
        "200":
          {
            "description": "successful operation",
            "content":
              {
                "application/json":
                  {
                    "schema":
                      {
                        "type": "object",
                        "properties":
                          {
                            "status":
                              {
                                "type": "string",
                                "description": "Status of request",
                              },
                            "data":
                              {
                                "type": "object",
                                "properties":
                                  {
                                    "results":
                                      {
                                        "type": "array",
                                        "items":
                                          {
                                            "type": "object",
                                            "properties":
                                              {
                                                "filename":
                                                  { "type": "string" },
                                                "predictions":
                                                  {
                                                    "type": "array",
                                                    "itmes":
                                                      {
                                                        "type": "object",
                                                        "properties":
                                                          {
                                                            "speaker":
                                                              {
                                                                "type": "string",
                                                              },
                                                            "transcript":
                                                              {
                                                                "type": "string",
                                                              },
                                                            "start_time":
                                                              {
                                                                "type": "string",
                                                              },
                                                            "end_time":
                                                              {
                                                                "type": "string",
                                                              },
                                                          },
                                                      },
                                                  },
                                              },
                                          },
                                      },
                                  },
                              },
                          },
                        "title": "ApiResponse",
                      },
                  },
              },
          },
      },
    "requestBody":
      {
        "content":
          {
            "multipart/form-data":
              {
                "schema":
                  {
                    "type": "object",
                    "properties":
                      {
                        "files":
                          {
                            "type": "string",
                            "format": "binary",
                            "description": "Audio file ('.wav', '.mp3', '.ogg', and etc.)",
                          },
                        "num_speakers":
                          {
                            "type": "number",
                            "description": "Number of speakers diarization in 1-4 speakers. (default: 1)",
                          },
                        "speaking_rate":
                          {
                            "type": "string",
                            "description": "Get the speaking rate of each transcription by settings true (default: false)",
                          },
                        "word_timestamps":
                          {
                            "type": "string",
                            "description": "Get time offsets of each word by settings true (default: false)",
                          },
                        "word_list":
                          {
                            "type": "string",
                            "description": "List of terminology in ['word_1', 'word_2', ...] format",
                          },
                        "decoder_type":
                          {
                            "type": "string",
                            "description": "Decoding methods including Greedy, BeamSearch, and LMBeamSearch (default: LMBeamSearch)",
                          },
                      },
                    "required": ["files"],
                  },
              },
          },
      },
    "method": "post",
    "path": "/predict",
    "servers":
      [
        {
          "url": "https://stt.infer.visai.ai/predict",
          "description": "Default server",
        },
      ],
    "securitySchemes":
      {
        "X-API-Key": { "type": "apiKey", "in": "header", "name": "X-API-Key" },
      },
    "postman": {
        "name": "Speech to Text Inference",
        # "headers": [{ "key": "Accept", "value": "multipart/form-data" }],
        "method": "POST",
        "body":
          {
            "mode": "formdata",
            "formdata": [{ "key": "files", "value": "file", "type": "file" }],
          },
      },
  }
sidebar_class_name: "post api-method"
# info_path: docs/petstore/swagger-petstore-yaml
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Speech to Text API

<details style={{ marginBottom: "1rem" }} data-collapsed={false} open={true}>
  <summary style={{}}>
    <strong>Header</strong>
  </summary>
  <div>
    <ul>
      <ParamsItem
        className={"paramsItem"}
        param={{
          name: "X-API-Key",
          in: "header",
          description: "Your API key",
          required: true,
          schema: { type: "string" },
        }}
      ></ParamsItem>
    </ul>
  </div>
</details>
<MimeTabs>
  <TabItem label={"multipart/form-data"} value={"multipart/form-data-schema"}>
    <details style={{}} data-collapsed={false} open={true}>
      <summary style={{ textAlign: "left" }}>
        <strong>Request Body</strong><br/>
      </summary>
      <div style={{ textAlign: "left", marginLeft: "1rem" }}></div>
      <ul style={{ marginLeft: "1rem" }}>
        <li>
          <div>
            <strong>files</strong>
            <span style={{ opacity: "0.6" }}> File</span>
            <span
              style={{
                color: "#FA383E",
                marginLeft: "0.25rem",
                fontWeight: "700",
              }}
            >
              required
            </span>
          </div>
        </li>
      </ul>
    </details>
    <details
      style={{ marginBottom: "1rem" }}
      data-collapsed={false}
      open={true}
    >
      <summary style={{}}>
         <span style={{ opacity: "0.6" }}>optional</span>
      </summary>
      <div>
        <ul>
          <ParamsItem
            className={"paramsItem"}
            param={{
              name: "num_speakers",
              in: "query",
              description: "Number of speakers diarization in 1-4 speakers.",
              required: false,
              style: "form",
              schema: {
                type: "number",
                default: `1`,
              },
            }}
          ></ParamsItem>
          <ParamsItem
            className={"paramsItem"}
            param={{
              name: "speaking_rate",
              in: "query",
              description: "Get the speaking rate of each transcription for speech fluency analysis in the audio.",
              required: false,
              style: "form",
              schema: {
                type: "boolean",
                default: `false`,
              },
            }}
          ></ParamsItem>
          <ParamsItem
            className={"paramsItem"}
            param={{
              name: "word_timestamps",
              in: "query",
              description: "Get time offsets of each word that is recognized in the audio.",
              required: false,
              style: "form",
              schema: {
                type: "boolean",
                default: `false`,
              },
            }}
          ></ParamsItem>
          <ParamsItem
            className={"paramsItem"}
            param={{
              name: "word_list",
              in: "query",
              description: "List of terminology ['word_1', 'word_2', ...]",
              required: false,
              style: "form",
              schema: {
                type: "string[]",
                default: `[]`,
              },
            }}
          ></ParamsItem>
          <ParamsItem
            className={"paramsItem"}
            param={{
              name: "word_list",
              in: "query",
              description: "Decoding methods including `Greedy`, `BeamSearch`, and `LMBeamSearch`",
              required: false,
              style: "form",
              schema: {
                type: "string",
                default: `LMBeamSearch`,
              },
            }}
          ></ParamsItem>
        </ul>
      </div>
    </details>
  </TabItem>
</MimeTabs>
<div>
  <ApiTabs>
    <TabItem label={"200"} value={"200"}>
      {/* <div>successful operation</div> */}
      <div>
        <MimeTabs schemaType={"response"}>
          <TabItem label={"application/json"} value={"application/json"}>
            <SchemaTabs>
              <TabItem label={"Schema"} value={"Schema"}>
                 <details style={{}} data-collapsed={false} open={true}>
                  <summary style={{}}>
                    <span style={{ opacity: "0.6" }}> object</span>
                  </summary>
                  <div style={{ marginLeft: "1rem" }}>
                   <SchemaItem
                      collapsible={false}
                      name={"status"}
                      required={false}
                      schemaName={"string"}
                      qualifierMessage={
                        "`success` | `failed`"
                      }
                      schema={{
                        description: "Status of request",
                        title: "status",
                      }}
                    ></SchemaItem>
                    <SchemaItem
                      collapsible={false}
                      className={"schemaItem"}
                    >
                      <details style={{}} data-collapsed={false} open={true}>
                        <summary style={{}}>
                          <strong>data</strong>
                          <span style={{ opacity: "0.6" }}> object</span>
                        </summary>
                        <div style={{ marginLeft: "1rem" }}>
                          <SchemaItem
                            collapsible={false}
                            className={"schemaItem"}
                          >
                            <details style={{}} data-collapsed={false} open={true}>
                              <summary style={{}}>
                                <strong>results</strong>
                                <span style={{ opacity: "0.6" }}> Array [</span>
                              </summary>
                              <div style={{ marginLeft: "1rem" }}>
                                <div>List of file result</div>
                                <SchemaItem
                                  collapsible={false}
                                  className={"schemaItem"}
                                >
                                  <details style={{}} data-collapsed={false} open={true}>
                                    <summary style={{}}>
                                      <span style={{ opacity: "0.6" }}> object</span>
                                    </summary>
                                    <div style={{ marginLeft: "1rem" }}>
                                      <SchemaItem
                                        collapsible={false}
                                        name={"filename"}
                                        required={false}
                                        schemaName={"string"}
                                        qualifierMessage={undefined}
                                        schema={{
                                          type: "string",
                                          description: "File name",
                                        }}
                                      ></SchemaItem>
                                      <SchemaItem
                                        collapsible={false}
                                        className={"schemaItem"}
                                      >
                                        <details style={{}} data-collapsed={false} open={true}>
                                          <summary style={{}}>
                                            <strong>predictions</strong>
                                            <span style={{ opacity: "0.6" }}> Array [</span>
                                          </summary>
                                          <div style={{ marginLeft: "1rem" }}>
                                            <div>List of outputs corresponds to speech detected in audio file.</div>
                                            <SchemaItem
                                              collapsible={false}
                                              className={"schemaItem"}
                                            >
                                              <details style={{}} data-collapsed={false} open={true}>
                                                <summary style={{}}>
                                                  <span style={{ opacity: "0.6" }}> object</span>
                                                </summary>
                                                <div style={{ marginLeft: "1rem" }}>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    name={"start_time"}
                                                    required={false}
                                                    schemaName={"string"}
                                                    qualifierMessage={undefined}
                                                    schema={{
                                                      type: "string",
                                                      description: "Start time in `HH:mm:ss.sss` format",
                                                    }}
                                                  ></SchemaItem>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    name={"end_time"}
                                                    required={false}
                                                    schemaName={"string"}
                                                    qualifierMessage={undefined}
                                                    schema={{
                                                      type: "string",
                                                      description: "Start time in `HH:mm:ss.sss` format",
                                                    }}
                                                  ></SchemaItem>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    name={"speaker"}
                                                    required={false}
                                                    schemaName={"string"}
                                                    qualifierMessage={undefined}
                                                    schema={{
                                                      type: "string",
                                                      description: "Speaker in `SPEAKER_{number}` format",
                                                    }}
                                                  ></SchemaItem>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    name={"transcript"}
                                                    required={false}
                                                    schemaName={"string"}
                                                    qualifierMessage={undefined}
                                                    schema={{
                                                      type: "string",
                                                      description: "The transcribed text",
                                                    }}
                                                  ></SchemaItem>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    name={"speaker_rate"}
                                                    required={false}
                                                    schemaName={"(optional) float"}
                                                    qualifierMessage={undefined}
                                                    schema={{
                                                      type: "string",
                                                      description: "Speaking rate of each transcription",
                                                    }}
                                                  ></SchemaItem>
                                                  <SchemaItem
                                                    collapsible={false}
                                                    className={"schemaItem"}
                                                  >
                                                    <details style={{}} data-collapsed={false} open={true}>
                                                      <summary style={{}}>
                                                        <strong>word_timestamps</strong>
                                                        <span style={{ opacity: "0.6" }}> (optional) Array [</span>
                                                      </summary>
                                                      <div style={{ marginLeft: "1rem" }}>
                                                        <div>List of the beginning and end of each word in seconds that has elapsed from the beginning of the audio.</div>
                                                        <SchemaItem
                                                          collapsible={false}
                                                          className={"schemaItem"}
                                                        >
                                                          <details style={{}} data-collapsed={false} open={false}>
                                                            <summary style={{}}>
                                                              <span style={{ opacity: "0.6" }}> object</span>
                                                            </summary>
                                                            <div style={{ marginLeft: "1rem" }}>
                                                              <SchemaItem
                                                                collapsible={false}
                                                                name={"start_time"}
                                                                required={false}
                                                                schemaName={"string"}
                                                                qualifierMessage={undefined}
                                                                schema={{
                                                                  type: "string",
                                                                  description: "Start time in HH:MM:SS.sss format",
                                                                }}
                                                              ></SchemaItem>
                                                              <SchemaItem
                                                                collapsible={false}
                                                                name={"end_time"}
                                                                required={false}
                                                                schemaName={"string"}
                                                                qualifierMessage={undefined}
                                                                schema={{
                                                                  type: "string",
                                                                  description: "Start time in `HH:MM:SS.sss` format",
                                                                }}
                                                              ></SchemaItem>
                                                              <SchemaItem
                                                                collapsible={false}
                                                                name={"word"}
                                                                required={false}
                                                                schemaName={"string"}
                                                                qualifierMessage={undefined}
                                                                schema={{
                                                                  type: "string",
                                                                  description: "Word in audio file",
                                                                }}
                                                              ></SchemaItem>
                                                            </div>
                                                          </details>
                                                        </SchemaItem>
                                                      </div>
                                                      <div
                                                        style={{
                                                          fontSize: "var(--ifm-code-font-size)",
                                                          opacity: "0.6",
                                                          marginLeft: "-.5rem",
                                                        }}
                                                      >
                                                        ]
                                                      </div>
                                                    </details>
                                                  </SchemaItem>
                                                </div>
                                              </details>
                                            </SchemaItem>
                                          </div>
                                          <div
                                            style={{
                                              fontSize: "var(--ifm-code-font-size)",
                                              opacity: "0.6",
                                              marginLeft: "-.5rem",
                                            }}
                                          >
                                            ]
                                          </div>
                                        </details>
                                      </SchemaItem>
                                    </div>
                                  </details>
                                </SchemaItem>
                              </div>
                              <div
                                style={{
                                  fontSize: "var(--ifm-code-font-size)",
                                  opacity: "0.6",
                                  marginLeft: "-.5rem",
                                }}
                              >
                                ]
                              </div>
                            </details>
                          </SchemaItem>
                        </div>
                      </details>
                    </SchemaItem>
                  </div>
                </details>
              </TabItem>
              <TabItem
                label={"Example (from schema)"}
                value={"Example (from schema)"}
              >
                <ResponseSamples
                  responseExample={
                    `{
  "status": "success",
  "data": {
    "results": [
      {
        "filename": "Record.wav",
        "predictions": [
          {
            "speaker": "SPEAKER_00",
            "transcript": "วิสัย",
            "start_time": "00:00:01.322",
            "end_time": "00:00:02.158"
          },
          {
            "speaker": "SPEAKER_00",
            "transcript": "บริษัทผู้พัฒนาแพลตฟอร์ม",
            "start_time": "00:00:02.721",
            "end_time": "00:00:05.145"
          },
          {
            "speaker": "SPEAKER_00",
            "transcript": "มีเป้าหมายหลักในการเป็นศูนย์กลางการให้บริการ",
            "start_time": "00:00:05.930",
            "end_time": "00:00:09.274"
          },
          {
            "speaker": "SPEAKER_00",
            "transcript": "การทดลองวิจัย",
            "start_time": "00:00:09.803",
            "end_time": "00:00:11.203"
          },
          {
            "speaker": "SPEAKER_00",
            "transcript": "และแลกเปลี่ยนความรู้ด้านปัญญาประดิษฐ์",
            "start_time": "00:00:12.056",
            "end_time": "00:00:14.360"
          }
        ]
      }
    ]
  }
}`
                  }
                  language={"json"}
                ></ResponseSamples>
              </TabItem>
            </SchemaTabs>
          </TabItem>
        </MimeTabs>
      </div>
    </TabItem>

  </ApiTabs>
</div>
